"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery")),_util=_interopRequireDefault(require("./util"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,i[e])})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var NAME="carousel",VERSION="4.2.1",DATA_KEY="bs.carousel",EVENT_KEY=".".concat(DATA_KEY),DATA_API_KEY=".data-api",JQUERY_NO_CONFLICT=_jquery.default.fn[NAME],ARROW_LEFT_KEYCODE=37,ARROW_RIGHT_KEYCODE=39,TOUCHEVENT_COMPAT_WAIT=500,SWIPE_THRESHOLD=40,Default={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},DefaultType={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Direction={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},Event={SLIDE:"slide".concat(EVENT_KEY),SLID:"slid".concat(EVENT_KEY),KEYDOWN:"keydown".concat(EVENT_KEY),MOUSEENTER:"mouseenter".concat(EVENT_KEY),MOUSELEAVE:"mouseleave".concat(EVENT_KEY),TOUCHSTART:"touchstart".concat(EVENT_KEY),TOUCHMOVE:"touchmove".concat(EVENT_KEY),TOUCHEND:"touchend".concat(EVENT_KEY),POINTERDOWN:"pointerdown".concat(EVENT_KEY),POINTERUP:"pointerup".concat(EVENT_KEY),DRAG_START:"dragstart".concat(EVENT_KEY),LOAD_DATA_API:"load".concat(EVENT_KEY).concat(DATA_API_KEY),CLICK_DATA_API:"click".concat(EVENT_KEY).concat(DATA_API_KEY)},ClassName={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},Selector={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},PointerType={TOUCH:"touch",PEN:"pen"},Carousel=function(){function a(e,t){_classCallCheck(this,a),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(Selector.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}return _createClass(a,[{key:"next",value:function(){this._isSliding||this._slide(Direction.NEXT)}},{key:"nextWhenVisible",value:function(){!document.hidden&&(0,_jquery.default)(this._element).is(":visible")&&"hidden"!==(0,_jquery.default)(this._element).css("visibility")&&this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(Direction.PREV)}},{key:"pause",value:function(e){e||(this._isPaused=!0),this._element.querySelector(Selector.NEXT_PREV)&&(_util.default.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=this._element.querySelector(Selector.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)(0,_jquery.default)(this._element).one(Event.SLID,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();var n=i<e?Direction.NEXT:Direction.PREV;this._slide(n,this._items[e])}}},{key:"dispose",value:function(){(0,_jquery.default)(this._element).off(EVENT_KEY),_jquery.default.removeData(this._element,DATA_KEY),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(e){return e=_objectSpread({},Default,e),_util.default.typeCheckConfig(NAME,e,DefaultType),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=SWIPE_THRESHOLD)){var t=e/this.touchDeltaX;0<t&&this.prev(),t<0&&this.next()}}},{key:"_addEventListeners",value:function(){var t=this;this._config.keyboard&&(0,_jquery.default)(this._element).on(Event.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(0,_jquery.default)(this._element).on(Event.MOUSEENTER,function(e){return t.pause(e)}).on(Event.MOUSELEAVE,function(e){return t.cycle(e)}),this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var i=this;if(this._touchSupported){var t=function(e){i._pointerEvent&&PointerType[e.originalEvent.pointerType.toUpperCase()]?i.touchStartX=e.originalEvent.clientX:i._pointerEvent||(i.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){i._pointerEvent&&PointerType[e.originalEvent.pointerType.toUpperCase()]&&(i.touchDeltaX=e.originalEvent.clientX-i.touchStartX),i._handleSwipe(),"hover"===i._config.pause&&(i.pause(),i.touchTimeout&&clearTimeout(i.touchTimeout),i.touchTimeout=setTimeout(function(e){return i.cycle(e)},TOUCHEVENT_COMPAT_WAIT+i._config.interval))};(0,_jquery.default)(this._element.querySelectorAll(Selector.ITEM_IMG)).on(Event.DRAG_START,function(e){return e.preventDefault()}),this._pointerEvent?((0,_jquery.default)(this._element).on(Event.POINTERDOWN,function(e){return t(e)}),(0,_jquery.default)(this._element).on(Event.POINTERUP,function(e){return n(e)}),this._element.classList.add(ClassName.POINTER_EVENT)):((0,_jquery.default)(this._element).on(Event.TOUCHSTART,function(e){return t(e)}),(0,_jquery.default)(this._element).on(Event.TOUCHMOVE,function(e){var t;(t=e).originalEvent.touches&&1<t.originalEvent.touches.length?i.touchDeltaX=0:i.touchDeltaX=t.originalEvent.touches[0].clientX-i.touchStartX}),(0,_jquery.default)(this._element).on(Event.TOUCHEND,function(e){return n(e)}))}}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case ARROW_LEFT_KEYCODE:e.preventDefault(),this.prev();break;case ARROW_RIGHT_KEYCODE:e.preventDefault(),this.next()}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(Selector.ITEM)):[],this._items.indexOf(e)}},{key:"_getItemByDirection",value:function(e,t){var i=e===Direction.NEXT,n=e===Direction.PREV,r=this._getItemIndex(t),a=this._items.length-1;if((n&&0===r||i&&r===a)&&!this._config.wrap)return t;var l=(r+(e===Direction.PREV?-1:1))%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]}},{key:"_triggerSlideEvent",value:function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(this._element.querySelector(Selector.ACTIVE_ITEM)),r=_jquery.default.Event(Event.SLIDE,{relatedTarget:e,direction:t,from:n,to:i});return(0,_jquery.default)(this._element).trigger(r),r}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(Selector.ACTIVE));(0,_jquery.default)(t).removeClass(ClassName.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&(0,_jquery.default)(i).addClass(ClassName.ACTIVE)}}},{key:"_slide",value:function(e,t){var i,n,r,a=this,l=this._element.querySelector(Selector.ACTIVE_ITEM),o=this._getItemIndex(l),u=t||l&&this._getItemByDirection(e,l),s=this._getItemIndex(u),c=Boolean(this._interval);if(r=e===Direction.NEXT?(i=ClassName.LEFT,n=ClassName.NEXT,Direction.LEFT):(i=ClassName.RIGHT,n=ClassName.PREV,Direction.RIGHT),u&&(0,_jquery.default)(u).hasClass(ClassName.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&l&&u){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(u);var _=_jquery.default.Event(Event.SLID,{relatedTarget:u,direction:r,from:o,to:s});if((0,_jquery.default)(this._element).hasClass(ClassName.SLIDE)){(0,_jquery.default)(u).addClass(n),_util.default.reflow(u),(0,_jquery.default)(l).addClass(i),(0,_jquery.default)(u).addClass(i);var E=parseInt(u.getAttribute("data-interval"),10);this._config.interval=E?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,E):this._config.defaultInterval||this._config.interval;var f=_util.default.getTransitionDurationFromElement(l);(0,_jquery.default)(l).one(_util.default.TRANSITION_END,function(){(0,_jquery.default)(u).removeClass("".concat(i," ").concat(n)).addClass(ClassName.ACTIVE),(0,_jquery.default)(l).removeClass("".concat(ClassName.ACTIVE," ").concat(n," ").concat(i)),a._isSliding=!1,setTimeout(function(){return(0,_jquery.default)(a._element).trigger(_)},0)}).emulateTransitionEnd(f)}else(0,_jquery.default)(l).removeClass(ClassName.ACTIVE),(0,_jquery.default)(u).addClass(ClassName.ACTIVE),this._isSliding=!1,(0,_jquery.default)(this._element).trigger(_);c&&this.cycle()}}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=(0,_jquery.default)(this).data(DATA_KEY),t=_objectSpread({},Default,(0,_jquery.default)(this).data());"object"===_typeof(n)&&(t=_objectSpread({},t,n));var i="string"==typeof n?n:t.slide;if(e||(e=new a(this,t),(0,_jquery.default)(this).data(DATA_KEY,e)),"number"==typeof n)e.to(n);else if("string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'.concat(i,'"'));e[i]()}else t.interval&&(e.pause(),e.cycle())})}},{key:"_dataApiClickHandler",value:function(e){var t=_util.default.getSelectorFromElement(this);if(t){var i=(0,_jquery.default)(t)[0];if(i&&(0,_jquery.default)(i).hasClass(ClassName.CAROUSEL)){var n=_objectSpread({},(0,_jquery.default)(i).data(),(0,_jquery.default)(this).data()),r=this.getAttribute("data-slide-to");r&&(n.interval=!1),a._jQueryInterface.call((0,_jquery.default)(i),n),r&&(0,_jquery.default)(i).data(DATA_KEY).to(r),e.preventDefault()}}}},{key:"VERSION",get:function(){return VERSION}},{key:"Default",get:function(){return Default}}]),a}();(0,_jquery.default)(document).on(Event.CLICK_DATA_API,Selector.DATA_SLIDE,Carousel._dataApiClickHandler),(0,_jquery.default)(window).on(Event.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(Selector.DATA_RIDE)),t=0,i=e.length;t<i;t++){var n=(0,_jquery.default)(e[t]);Carousel._jQueryInterface.call(n,n.data())}}),_jquery.default.fn[NAME]=Carousel._jQueryInterface,_jquery.default.fn[NAME].Constructor=Carousel,_jquery.default.fn[NAME].noConflict=function(){return _jquery.default.fn[NAME]=JQUERY_NO_CONFLICT,Carousel._jQueryInterface};var _default=Carousel;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIl0sIm5hbWVzIjpbIl9qcXVlcnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91dGlsIiwiTkFNRSIsIlZFUlNJT04iLCJEQVRBX0tFWSIsIkVWRU5UX0tFWSIsImNvbmNhdCIsIkRBVEFfQVBJX0tFWSIsIkpRVUVSWV9OT19DT05GTElDVCIsIiQiLCJmbiIsIkFSUk9XX0xFRlRfS0VZQ09ERSIsIkFSUk9XX1JJR0hUX0tFWUNPREUiLCJUT1VDSEVWRU5UX0NPTVBBVF9XQUlUIiwiU1dJUEVfVEhSRVNIT0xEIiwiRGVmYXVsdCIsImludGVydmFsIiwia2V5Ym9hcmQiLCJzbGlkZSIsInBhdXNlIiwid3JhcCIsInRvdWNoIiwiVE9VQ0hTVEFSVCIsIlRPVUNITU9WRSIsIkRpcmVjdGlvbiIsIk5FWFQiLCJQUkVWIiwiTEVGVCIsIlJJR0hUIiwiTE9BRF9EQVRBX0FQSSIsIkNMSUNLX0RBVEFfQVBJIiwiS0VZRE9XTiIsIk1PVVNFRU5URVIiLCJNT1VTRUxFQVZFIiwiVE9VQ0hFTkQiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJVUCIsIkRSQUdfU1RBUlQiLCJDbGFzc05hbWUiLCJDQVJPVVNFTCIsIkFDVElWRSIsIlNMSURFIiwiSVRFTSIsIlNlbGVjdG9yIiwiQUNUSVZFX0lURU0iLCJQb2ludGVyVHlwZSIsIlRPVUNIIiwiZWxlbWVudCIsImNvbmZpZyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJDYXJvdXNlbCIsIlBFTiIsIl9pdGVtcyIsIl9pbnRlcnZhbCIsIl9hY3RpdmVFbGVtZW50IiwiX2lzUGF1c2VkIiwiX2lzU2xpZGluZyIsInRvdWNoVGltZW91dCIsInRvdWNoU3RhcnRYIiwidG91Y2hEZWx0YVgiLCJfZ2V0Q29uZmlnIiwiX2VsZW1lbnQiLCJfaW5kaWNhdG9yc0VsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiSU5ESUNBVE9SUyIsIl90b3VjaFN1cHBvcnRlZCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwibmF2aWdhdG9yIiwibWF4VG91Y2hQb2ludHMiLCJfcG9pbnRlckV2ZW50IiwiQm9vbGVhbiIsIndpbmRvdyIsIlBvaW50ZXJFdmVudCIsIk1TUG9pbnRlckV2ZW50IiwiX3NsaWRlIiwiaGlkZGVuIiwiZGVmYXVsdCIsImlzIiwiY3NzIiwibmV4dCIsImV2ZW50IiwiTkVYVF9QUkVWIiwiVXRpbCIsInRyaWdnZXJUcmFuc2l0aW9uRW5kIiwiY3ljbGUiLCJjbGVhckludGVydmFsIiwiX2NvbmZpZyIsInNldEludGVydmFsIiwibmV4dFdoZW5WaXNpYmxlIiwiYmluZCIsImluZGV4IiwiX3RoaXMiLCJhY3RpdmVJbmRleCIsInZpc2liaWxpdHlTdGF0ZSIsImxlbmd0aCIsIm9uZSIsIkV2ZW50IiwiU0xJRCIsInRvIiwiZGlyZWN0aW9uIiwib2ZmIiwicmVtb3ZlRGF0YSIsIl9vYmplY3RTcHJlYWQiLCJ0eXBlQ2hlY2tDb25maWciLCJEZWZhdWx0VHlwZSIsImFic0RlbHRheCIsIk1hdGgiLCJhYnMiLCJwcmV2IiwiX3RoaXMyIiwib24iLCJfa2V5ZG93biIsIl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzIiwic3RhcnQiLCJfdGhpczMiLCJvcmlnaW5hbEV2ZW50IiwicG9pbnRlclR5cGUiLCJ0b1VwcGVyQ2FzZSIsInRvdWNoZXMiLCJjbGllbnRYIiwiZW5kIiwiX2hhbmRsZVN3aXBlIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJJVEVNX0lNRyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsImFkZCIsIlBPSU5URVJfRVZFTlQiLCJ0YXJnZXQiLCJ0YWdOYW1lIiwic2xpY2UiLCJwYXJlbnROb2RlIiwiaW5kZXhPZiIsImFjdGl2ZUVsZW1lbnQiLCJpc05leHREaXJlY3Rpb24iLCJpc1ByZXZEaXJlY3Rpb24iLCJfZ2V0SXRlbUluZGV4IiwibGFzdEl0ZW1JbmRleCIsIml0ZW1JbmRleCIsImV2ZW50RGlyZWN0aW9uTmFtZSIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tSW5kZXgiLCJzbGlkZUV2ZW50IiwidGFyZ2V0SW5kZXgiLCJ0cmlnZ2VyIiwiaW5kaWNhdG9ycyIsInJlbW92ZUNsYXNzIiwibmV4dEluZGljYXRvciIsImFkZENsYXNzIiwiZGlyZWN0aW9uYWxDbGFzc05hbWUiLCJvcmRlckNsYXNzTmFtZSIsIl90aGlzNCIsImFjdGl2ZUVsZW1lbnRJbmRleCIsImRlbHRhIiwibmV4dEVsZW1lbnRJbmRleCIsIm5leHRFbGVtZW50IiwiaXNDeWNsaW5nIiwiZnJvbSIsImhhc0NsYXNzIiwiX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQiLCJyZWZsb3ciLCJuZXh0RWxlbWVudEludGVydmFsIiwicGFyc2VJbnQiLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0SW50ZXJ2YWwiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCIsIl90cmlnZ2VyU2xpZGVFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInNsaWRFdmVudCIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiZWFjaCIsImRhdGEiLCJfdHlwZW9mIiwiYWN0aW9uIiwiVHlwZUVycm9yIiwic2VsZWN0b3IiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50Iiwic2xpZGVJbmRleCIsIl9qUXVlcnlJbnRlcmZhY2UiLCJEQVRBX1NMSURFIiwiX2RhdGFBcGlDbGlja0hhbmRsZXIiLCJjYXJvdXNlbHMiLCJjYWxsIiwiREFUQV9SSURFIiwiaSIsImxlbiIsIiRjYXJvdXNlbCIsIm5vQ29uZmxpY3QiXSwibWFwcGluZ3MiOiIyRkFPQSxJQUFBQSxRQUFBQyx1QkFBQUMsUUFBQSxXQUNBQyxNQUFBRix1QkFBQUMsUUFBQSw4cUNBUUEsSUFBTUUsS0FBeUIsV0FDekJDLFFBQXlCLFFBQ3pCQyxTQUF5QixjQUN6QkMsVUFBUyxJQUFBQyxPQUFvQkYsVUFDN0JHLGFBQXlCLFlBQ3pCQyxtQkFBeUJDLFFBQUFBLFFBQUVDLEdBQUdSLE1B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UTRDLEtBQUs3SyxVQUFVZ0csR0FBR21GLEdBaEMxQk4sRUFBQUEsbURBemFKLE9BQUt0SCx3Q0FLTCxPQUFLSSxrQkE2YUwsRUFBQWpFLFFBQUFnRixTQUFBWCxVQUNFNkMsR0FBQWQsTUFBQXBFLGVBQUFhLFNBQUE4SSxXQUFBdEksU0FBQXVJLHVCQXNDTixFQUFBNUwsUUFBQWdGLFNBQUVMLFFBQVF1QyxHQUFHZCxNQUFNckUsY0FBZSxXQUVoQyxJQXJDRSxJQUFBOEosRUFBZSxHQUFBcEQsTUFBQXFELEtBQUF6SCxTQUFFa0gsaUJBQWpCMUksU0FBQWtKLFlBcUNPQyxFQUFJLEVBQUdDLEVBQU1KLEVBQVUzRixPQUFROEYsRUFBSUMsRUFBS0QsSUFBSyxDQW5DcEQsSUFBSUUsR0FBWSxFQUFBbE0sUUFBQWdGLFNBQUE2RyxFQUFBRyxJQUNkM0ksU0FBQXFJLGlCQUFBSSxLQUFBSSxFQUFBQSxFQUFBZixXQThDTnhLLFFBQUFBLFFBQUVDLEdBQUdSLE1BQVFpRCxTQUFTcUksaUJBakNsQnJJLFFBQUFBLFFBQUFBLEdBQUFBLE1BQUFBLFlBQVNxSSxTQW1DYi9LLFFBQUFBLFFBQUVDLEdBQUdSLE1BQU0rTCxXQUFhLFdBaENsQixPQURGeEwsUUFBQUEsUUFBQUMsR0FBQVIsTUFBSXFMLG1CQUNGcEksU0FBQXFJLCtCQUdJdkQiLCJmaWxlIjoiY2Fyb3VzZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjIuMSk6IGNhcm91c2VsLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgVXRpbCBmcm9tICcuL3V0aWwnXG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb25zdGFudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbmNvbnN0IE5BTUUgICAgICAgICAgICAgICAgICAgPSAnY2Fyb3VzZWwnXG5jb25zdCBWRVJTSU9OICAgICAgICAgICAgICAgID0gJzQuMi4xJ1xuY29uc3QgREFUQV9LRVkgICAgICAgICAgICAgICA9ICdicy5jYXJvdXNlbCdcbmNvbnN0IEVWRU5UX0tFWSAgICAgICAgICAgICAgPSBgLiR7REFUQV9LRVl9YFxuY29uc3QgREFUQV9BUElfS0VZICAgICAgICAgICA9ICcuZGF0YS1hcGknXG5jb25zdCBKUVVFUllfTk9fQ09ORkxJQ1QgICAgID0gJC5mbltOQU1FXVxuY29uc3QgQVJST1dfTEVGVF9LRVlDT0RFICAgICA9IDM3IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIGxlZnQgYXJyb3cga2V5XG5jb25zdCBBUlJPV19SSUdIVF9LRVlDT0RFICAgID0gMzkgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgcmlnaHQgYXJyb3cga2V5XG5jb25zdCBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUID0gNTAwIC8vIFRpbWUgZm9yIG1vdXNlIGNvbXBhdCBldmVudHMgdG8gZmlyZSBhZnRlciB0b3VjaFxuY29uc3QgU1dJUEVfVEhSRVNIT0xEICAgICAgICA9IDQwXG5cbmNvbnN0IERlZmF1bHQgPSB7XG4gIGludGVydmFsIDogNTAwMCxcbiAga2V5Ym9hcmQgOiB0cnVlLFxuICBzbGlkZSAgICA6IGZhbHNlLFxuICBwYXVzZSAgICA6ICdob3ZlcicsXG4gIHdyYXAgICAgIDogdHJ1ZSxcbiAgdG91Y2ggICAgOiB0cnVlXG59XG5cbmNvbnN0IERlZmF1bHRUeXBlID0ge1xuICBpbnRlcnZhbCA6ICcobnVtYmVyfGJvb2xlYW4pJyxcbiAga2V5Ym9hcmQgOiAnYm9vbGVhbicsXG4gIHNsaWRlICAgIDogJyhib29sZWFufHN0cmluZyknLFxuICBwYXVzZSAgICA6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgd3JhcCAgICAgOiAnYm9vbGVhbicsXG4gIHRvdWNoICAgIDogJ2Jvb2xlYW4nXG59XG5cbmNvbnN0IERpcmVjdGlvbiA9IHtcbiAgTkVYVCAgICAgOiAnbmV4dCcsXG4gIFBSRVYgICAgIDogJ3ByZXYnLFxuICBMRUZUICAgICA6ICdsZWZ0JyxcbiAgUklHSFQgICAgOiAncmlnaHQnXG59XG5cbmNvbnN0IEV2ZW50ID0ge1xuICBTTElERSAgICAgICAgICA6IGBzbGlkZSR7RVZFTlRfS0VZfWAsXG4gIFNMSUQgICAgICAgICAgIDogYHNsaWQke0VWRU5UX0tFWX1gLFxuICBLRVlET1dOICAgICAgICA6IGBrZXlkb3duJHtFVkVOVF9LRVl9YCxcbiAgTU9VU0VFTlRFUiAgICAgOiBgbW91c2VlbnRlciR7RVZFTlRfS0VZfWAsXG4gIE1PVVNFTEVBVkUgICAgIDogYG1vdXNlbGVhdmUke0VWRU5UX0tFWX1gLFxuICBUT1VDSFNUQVJUICAgICA6IGB0b3VjaHN0YXJ0JHtFVkVOVF9LRVl9YCxcbiAgVE9VQ0hNT1ZFICAgICAgOiBgdG91Y2htb3ZlJHtFVkVOVF9LRVl9YCxcbiAgVE9VQ0hFTkQgICAgICAgOiBgdG91Y2hlbmQke0VWRU5UX0tFWX1gLFxuICBQT0lOVEVSRE9XTiAgICA6IGBwb2ludGVyZG93biR7RVZFTlRfS0VZfWAsXG4gIFBPSU5URVJVUCAgICAgIDogYHBvaW50ZXJ1cCR7RVZFTlRfS0VZfWAsXG4gIERSQUdfU1RBUlQgICAgIDogYGRyYWdzdGFydCR7RVZFTlRfS0VZfWAsXG4gIExPQURfREFUQV9BUEkgIDogYGxvYWQke0VWRU5UX0tFWX0ke0RBVEFfQVBJX0tFWX1gLFxuICBDTElDS19EQVRBX0FQSSA6IGBjbGljayR7RVZFTlRfS0VZfSR7REFUQV9BUElfS0VZfWBcbn1cblxuY29uc3QgQ2xhc3NOYW1lID0ge1xuICBDQVJPVVNFTCAgICAgIDogJ2Nhcm91c2VsJyxcbiAgQUNUSVZFICAgICAgICA6ICdhY3RpdmUnLFxuICBTTElERSAgICAgICAgIDogJ3NsaWRlJyxcbiAgUklHSFQgICAgICAgICA6ICdjYXJvdXNlbC1pdGVtLXJpZ2h0JyxcbiAgTEVGVCAgICAgICAgICA6ICdjYXJvdXNlbC1pdGVtLWxlZnQnLFxuICBORVhUICAgICAgICAgIDogJ2Nhcm91c2VsLWl0ZW0tbmV4dCcsXG4gIFBSRVYgICAgICAgICAgOiAnY2Fyb3VzZWwtaXRlbS1wcmV2JyxcbiAgSVRFTSAgICAgICAgICA6ICdjYXJvdXNlbC1pdGVtJyxcbiAgUE9JTlRFUl9FVkVOVCA6ICdwb2ludGVyLWV2ZW50J1xufVxuXG5jb25zdCBTZWxlY3RvciA9IHtcbiAgQUNUSVZFICAgICAgOiAnLmFjdGl2ZScsXG4gIEFDVElWRV9JVEVNIDogJy5hY3RpdmUuY2Fyb3VzZWwtaXRlbScsXG4gIElURU0gICAgICAgIDogJy5jYXJvdXNlbC1pdGVtJyxcbiAgSVRFTV9JTUcgICAgOiAnLmNhcm91c2VsLWl0ZW0gaW1nJyxcbiAgTkVYVF9QUkVWICAgOiAnLmNhcm91c2VsLWl0ZW0tbmV4dCwgLmNhcm91c2VsLWl0ZW0tcHJldicsXG4gIElORElDQVRPUlMgIDogJy5jYXJvdXNlbC1pbmRpY2F0b3JzJyxcbiAgREFUQV9TTElERSAgOiAnW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10nLFxuICBEQVRBX1JJREUgICA6ICdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nXG59XG5cbmNvbnN0IFBvaW50ZXJUeXBlID0ge1xuICBUT1VDSCA6ICd0b3VjaCcsXG4gIFBFTiAgIDogJ3Blbidcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENsYXNzIERlZmluaXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDYXJvdXNlbCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHRoaXMuX2l0ZW1zICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5faW50ZXJ2YWwgICAgICA9IG51bGxcbiAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbFxuICAgIHRoaXMuX2lzUGF1c2VkICAgICAgPSBmYWxzZVxuICAgIHRoaXMuX2lzU2xpZGluZyAgICAgPSBmYWxzZVxuICAgIHRoaXMudG91Y2hUaW1lb3V0ICAgPSBudWxsXG4gICAgdGhpcy50b3VjaFN0YXJ0WCAgICA9IDBcbiAgICB0aGlzLnRvdWNoRGVsdGFYICAgID0gMFxuXG4gICAgdGhpcy5fY29uZmlnICAgICAgICAgICAgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKVxuICAgIHRoaXMuX2VsZW1lbnQgICAgICAgICAgID0gZWxlbWVudFxuICAgIHRoaXMuX2luZGljYXRvcnNFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLklORElDQVRPUlMpXG4gICAgdGhpcy5fdG91Y2hTdXBwb3J0ZWQgICAgPSAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMFxuICAgIHRoaXMuX3BvaW50ZXJFdmVudCAgICAgID0gQm9vbGVhbih3aW5kb3cuUG9pbnRlckV2ZW50IHx8IHdpbmRvdy5NU1BvaW50ZXJFdmVudClcblxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKClcbiAgfVxuXG4gIC8vIEdldHRlcnNcblxuICBzdGF0aWMgZ2V0IFZFUlNJT04oKSB7XG4gICAgcmV0dXJuIFZFUlNJT05cbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFxuICB9XG5cbiAgLy8gUHVibGljXG5cbiAgbmV4dCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzU2xpZGluZykge1xuICAgICAgdGhpcy5fc2xpZGUoRGlyZWN0aW9uLk5FWFQpXG4gICAgfVxuICB9XG5cbiAgbmV4dFdoZW5WaXNpYmxlKCkge1xuICAgIC8vIERvbid0IGNhbGwgbmV4dCB3aGVuIHRoZSBwYWdlIGlzbid0IHZpc2libGVcbiAgICAvLyBvciB0aGUgY2Fyb3VzZWwgb3IgaXRzIHBhcmVudCBpc24ndCB2aXNpYmxlXG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4gJiZcbiAgICAgICgkKHRoaXMuX2VsZW1lbnQpLmlzKCc6dmlzaWJsZScpICYmICQodGhpcy5fZWxlbWVudCkuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nKSkge1xuICAgICAgdGhpcy5uZXh0KClcbiAgICB9XG4gIH1cblxuICBwcmV2KCkge1xuICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICB0aGlzLl9zbGlkZShEaXJlY3Rpb24uUFJFVilcbiAgICB9XG4gIH1cblxuICBwYXVzZShldmVudCkge1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTkVYVF9QUkVWKSkge1xuICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzLl9lbGVtZW50KVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpXG4gICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsXG4gIH1cblxuICBjeWNsZShldmVudCkge1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpXG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLmludGVydmFsICYmICF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcbiAgICAgICAgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA/IHRoaXMubmV4dFdoZW5WaXNpYmxlIDogdGhpcy5uZXh0KS5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICB0byhpbmRleCkge1xuICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFX0lURU0pXG5cbiAgICBjb25zdCBhY3RpdmVJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KVxuXG4gICAgaWYgKGluZGV4ID4gdGhpcy5faXRlbXMubGVuZ3RoIC0gMSB8fCBpbmRleCA8IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICQodGhpcy5fZWxlbWVudCkub25lKEV2ZW50LlNMSUQsICgpID0+IHRoaXMudG8oaW5kZXgpKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09PSBpbmRleCkge1xuICAgICAgdGhpcy5wYXVzZSgpXG4gICAgICB0aGlzLmN5Y2xlKClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGluZGV4ID4gYWN0aXZlSW5kZXhcbiAgICAgID8gRGlyZWN0aW9uLk5FWFRcbiAgICAgIDogRGlyZWN0aW9uLlBSRVZcblxuICAgIHRoaXMuX3NsaWRlKGRpcmVjdGlvbiwgdGhpcy5faXRlbXNbaW5kZXhdKVxuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICAkKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVkpXG4gICAgJC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKVxuXG4gICAgdGhpcy5faXRlbXMgICAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5fY29uZmlnICAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5fZWxlbWVudCAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5faW50ZXJ2YWwgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5faXNQYXVzZWQgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5faXNTbGlkaW5nICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5fYWN0aXZlRWxlbWVudCAgICAgPSBudWxsXG4gICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSBudWxsXG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgX2dldENvbmZpZyhjb25maWcpIHtcbiAgICBjb25maWcgPSB7XG4gICAgICAuLi5EZWZhdWx0LFxuICAgICAgLi4uY29uZmlnXG4gICAgfVxuICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpXG4gICAgcmV0dXJuIGNvbmZpZ1xuICB9XG5cbiAgX2hhbmRsZVN3aXBlKCkge1xuICAgIGNvbnN0IGFic0RlbHRheCA9IE1hdGguYWJzKHRoaXMudG91Y2hEZWx0YVgpXG5cbiAgICBpZiAoYWJzRGVsdGF4IDw9IFNXSVBFX1RIUkVTSE9MRCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgZGlyZWN0aW9uID0gYWJzRGVsdGF4IC8gdGhpcy50b3VjaERlbHRhWFxuXG4gICAgLy8gc3dpcGUgbGVmdFxuICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XG4gICAgICB0aGlzLnByZXYoKVxuICAgIH1cblxuICAgIC8vIHN3aXBlIHJpZ2h0XG4gICAgaWYgKGRpcmVjdGlvbiA8IDApIHtcbiAgICAgIHRoaXMubmV4dCgpXG4gICAgfVxuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGlmICh0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgICQodGhpcy5fZWxlbWVudClcbiAgICAgICAgLm9uKEV2ZW50LktFWURPV04sIChldmVudCkgPT4gdGhpcy5fa2V5ZG93bihldmVudCkpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgJCh0aGlzLl9lbGVtZW50KVxuICAgICAgICAub24oRXZlbnQuTU9VU0VFTlRFUiwgKGV2ZW50KSA9PiB0aGlzLnBhdXNlKGV2ZW50KSlcbiAgICAgICAgLm9uKEV2ZW50Lk1PVVNFTEVBVkUsIChldmVudCkgPT4gdGhpcy5jeWNsZShldmVudCkpXG4gICAgfVxuXG4gICAgdGhpcy5fYWRkVG91Y2hFdmVudExpc3RlbmVycygpXG4gIH1cblxuICBfYWRkVG91Y2hFdmVudExpc3RlbmVycygpIHtcbiAgICBpZiAoIXRoaXMuX3RvdWNoU3VwcG9ydGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3BvaW50ZXJFdmVudCAmJiBQb2ludGVyVHlwZVtldmVudC5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgIHRoaXMudG91Y2hTdGFydFggPSBldmVudC5vcmlnaW5hbEV2ZW50LmNsaWVudFhcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLnRvdWNoU3RhcnRYID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAvLyBlbnN1cmUgc3dpcGluZyB3aXRoIG9uZSB0b3VjaCBhbmQgbm90IHBpbmNoaW5nXG4gICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG91Y2hEZWx0YVggPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvdWNoRGVsdGFYID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFggLSB0aGlzLnRvdWNoU3RhcnRYXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZW5kID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5fcG9pbnRlckV2ZW50ICYmIFBvaW50ZXJUeXBlW2V2ZW50Lm9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUudG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgdGhpcy50b3VjaERlbHRhWCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2xpZW50WCAtIHRoaXMudG91Y2hTdGFydFhcbiAgICAgIH1cblxuICAgICAgdGhpcy5faGFuZGxlU3dpcGUoKVxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAvLyBJZiBpdCdzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2UsIG1vdXNlZW50ZXIvbGVhdmUgYXJlIGZpcmVkIGFzXG4gICAgICAgIC8vIHBhcnQgb2YgdGhlIG1vdXNlIGNvbXBhdGliaWxpdHkgZXZlbnRzIG9uIGZpcnN0IHRhcCAtIHRoZSBjYXJvdXNlbFxuICAgICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgICAvLyBoZXJlLCB3ZSBsaXN0ZW4gZm9yIHRvdWNoZW5kLCBleHBsaWNpdGx5IHBhdXNlIHRoZSBjYXJvdXNlbFxuICAgICAgICAvLyAoYXMgaWYgaXQncyB0aGUgc2Vjb25kIHRpbWUgd2UgdGFwIG9uIGl0LCBtb3VzZWVudGVyIGNvbXBhdCBldmVudFxuICAgICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAgIC8vIGV2ZW50cyB0byBmaXJlKSB3ZSBleHBsaWNpdGx5IHJlc3RhcnQgY3ljbGluZ1xuXG4gICAgICAgIHRoaXMucGF1c2UoKVxuICAgICAgICBpZiAodGhpcy50b3VjaFRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50b3VjaFRpbWVvdXQpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KChldmVudCkgPT4gdGhpcy5jeWNsZShldmVudCksIFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgKyB0aGlzLl9jb25maWcuaW50ZXJ2YWwpXG4gICAgICB9XG4gICAgfVxuXG4gICAgJCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuSVRFTV9JTUcpKS5vbihFdmVudC5EUkFHX1NUQVJULCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKVxuICAgIGlmICh0aGlzLl9wb2ludGVyRXZlbnQpIHtcbiAgICAgICQodGhpcy5fZWxlbWVudCkub24oRXZlbnQuUE9JTlRFUkRPV04sIChldmVudCkgPT4gc3RhcnQoZXZlbnQpKVxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5QT0lOVEVSVVAsIChldmVudCkgPT4gZW5kKGV2ZW50KSlcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENsYXNzTmFtZS5QT0lOVEVSX0VWRU5UKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LlRPVUNIU1RBUlQsIChldmVudCkgPT4gc3RhcnQoZXZlbnQpKVxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5UT1VDSE1PVkUsIChldmVudCkgPT4gbW92ZShldmVudCkpXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LlRPVUNIRU5ELCAoZXZlbnQpID0+IGVuZChldmVudCkpXG4gICAgfVxuICB9XG5cbiAgX2tleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIGNhc2UgQVJST1dfTEVGVF9LRVlDT0RFOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHRoaXMucHJldigpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIEFSUk9XX1JJR0hUX0tFWUNPREU6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgdGhpcy5uZXh0KClcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG5cbiAgX2dldEl0ZW1JbmRleChlbGVtZW50KSB7XG4gICAgdGhpcy5faXRlbXMgPSBlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgPyBbXS5zbGljZS5jYWxsKGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLklURU0pKVxuICAgICAgOiBbXVxuICAgIHJldHVybiB0aGlzLl9pdGVtcy5pbmRleE9mKGVsZW1lbnQpXG4gIH1cblxuICBfZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCkge1xuICAgIGNvbnN0IGlzTmV4dERpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLk5FWFRcbiAgICBjb25zdCBpc1ByZXZEaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5QUkVWXG4gICAgY29uc3QgYWN0aXZlSW5kZXggICAgID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpXG4gICAgY29uc3QgbGFzdEl0ZW1JbmRleCAgID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gMVxuICAgIGNvbnN0IGlzR29pbmdUb1dyYXAgICA9IGlzUHJldkRpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV4dERpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gbGFzdEl0ZW1JbmRleFxuXG4gICAgaWYgKGlzR29pbmdUb1dyYXAgJiYgIXRoaXMuX2NvbmZpZy53cmFwKSB7XG4gICAgICByZXR1cm4gYWN0aXZlRWxlbWVudFxuICAgIH1cblxuICAgIGNvbnN0IGRlbHRhICAgICA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLlBSRVYgPyAtMSA6IDFcbiAgICBjb25zdCBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLl9pdGVtcy5sZW5ndGhcblxuICAgIHJldHVybiBpdGVtSW5kZXggPT09IC0xXG4gICAgICA/IHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aCAtIDFdIDogdGhpcy5faXRlbXNbaXRlbUluZGV4XVxuICB9XG5cbiAgX3RyaWdnZXJTbGlkZUV2ZW50KHJlbGF0ZWRUYXJnZXQsIGV2ZW50RGlyZWN0aW9uTmFtZSkge1xuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHJlbGF0ZWRUYXJnZXQpXG4gICAgY29uc3QgZnJvbUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5BQ1RJVkVfSVRFTSkpXG4gICAgY29uc3Qgc2xpZGVFdmVudCA9ICQuRXZlbnQoRXZlbnQuU0xJREUsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgIGZyb206IGZyb21JbmRleCxcbiAgICAgIHRvOiB0YXJnZXRJbmRleFxuICAgIH0pXG5cbiAgICAkKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZGVFdmVudClcblxuICAgIHJldHVybiBzbGlkZUV2ZW50XG4gIH1cblxuICBfc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KSB7XG4gICAgICBjb25zdCBpbmRpY2F0b3JzID0gW10uc2xpY2UuY2FsbCh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkFDVElWRSkpXG4gICAgICAkKGluZGljYXRvcnMpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKVxuXG4gICAgICBjb25zdCBuZXh0SW5kaWNhdG9yID0gdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQuY2hpbGRyZW5bXG4gICAgICAgIHRoaXMuX2dldEl0ZW1JbmRleChlbGVtZW50KVxuICAgICAgXVxuXG4gICAgICBpZiAobmV4dEluZGljYXRvcikge1xuICAgICAgICAkKG5leHRJbmRpY2F0b3IpLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3NsaWRlKGRpcmVjdGlvbiwgZWxlbWVudCkge1xuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFX0lURU0pXG4gICAgY29uc3QgYWN0aXZlRWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpXG4gICAgY29uc3QgbmV4dEVsZW1lbnQgICA9IGVsZW1lbnQgfHwgYWN0aXZlRWxlbWVudCAmJlxuICAgICAgdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudClcbiAgICBjb25zdCBuZXh0RWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KG5leHRFbGVtZW50KVxuICAgIGNvbnN0IGlzQ3ljbGluZyA9IEJvb2xlYW4odGhpcy5faW50ZXJ2YWwpXG5cbiAgICBsZXQgZGlyZWN0aW9uYWxDbGFzc05hbWVcbiAgICBsZXQgb3JkZXJDbGFzc05hbWVcbiAgICBsZXQgZXZlbnREaXJlY3Rpb25OYW1lXG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTkVYVCkge1xuICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDbGFzc05hbWUuTEVGVFxuICAgICAgb3JkZXJDbGFzc05hbWUgPSBDbGFzc05hbWUuTkVYVFxuICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRGlyZWN0aW9uLkxFRlRcbiAgICB9IGVsc2Uge1xuICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDbGFzc05hbWUuUklHSFRcbiAgICAgIG9yZGVyQ2xhc3NOYW1lID0gQ2xhc3NOYW1lLlBSRVZcbiAgICAgIGV2ZW50RGlyZWN0aW9uTmFtZSA9IERpcmVjdGlvbi5SSUdIVFxuICAgIH1cblxuICAgIGlmIChuZXh0RWxlbWVudCAmJiAkKG5leHRFbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuQUNUSVZFKSkge1xuICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2VcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHNsaWRlRXZlbnQgPSB0aGlzLl90cmlnZ2VyU2xpZGVFdmVudChuZXh0RWxlbWVudCwgZXZlbnREaXJlY3Rpb25OYW1lKVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUVsZW1lbnQgfHwgIW5leHRFbGVtZW50KSB7XG4gICAgICAvLyBTb21lIHdlaXJkbmVzcyBpcyBoYXBwZW5pbmcsIHNvIHdlIGJhaWxcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuX2lzU2xpZGluZyA9IHRydWVcblxuICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgIHRoaXMucGF1c2UoKVxuICAgIH1cblxuICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnQpXG5cbiAgICBjb25zdCBzbGlkRXZlbnQgPSAkLkV2ZW50KEV2ZW50LlNMSUQsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IG5leHRFbGVtZW50LFxuICAgICAgZGlyZWN0aW9uOiBldmVudERpcmVjdGlvbk5hbWUsXG4gICAgICBmcm9tOiBhY3RpdmVFbGVtZW50SW5kZXgsXG4gICAgICB0bzogbmV4dEVsZW1lbnRJbmRleFxuICAgIH0pXG5cbiAgICBpZiAoJCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0xJREUpKSB7XG4gICAgICAkKG5leHRFbGVtZW50KS5hZGRDbGFzcyhvcmRlckNsYXNzTmFtZSlcblxuICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpXG5cbiAgICAgICQoYWN0aXZlRWxlbWVudCkuYWRkQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUpXG4gICAgICAkKG5leHRFbGVtZW50KS5hZGRDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSlcblxuICAgICAgY29uc3QgbmV4dEVsZW1lbnRJbnRlcnZhbCA9IHBhcnNlSW50KG5leHRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnRlcnZhbCcpLCAxMClcbiAgICAgIGlmIChuZXh0RWxlbWVudEludGVydmFsKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWwgPSB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5pbnRlcnZhbFxuICAgICAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWwgPSBuZXh0RWxlbWVudEludGVydmFsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jb25maWcuaW50ZXJ2YWwgPSB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5pbnRlcnZhbFxuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZUVsZW1lbnQpXG5cbiAgICAgICQoYWN0aXZlRWxlbWVudClcbiAgICAgICAgLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCAoKSA9PiB7XG4gICAgICAgICAgJChuZXh0RWxlbWVudClcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhgJHtkaXJlY3Rpb25hbENsYXNzTmFtZX0gJHtvcmRlckNsYXNzTmFtZX1gKVxuICAgICAgICAgICAgLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpXG5cbiAgICAgICAgICAkKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKGAke0NsYXNzTmFtZS5BQ1RJVkV9ICR7b3JkZXJDbGFzc05hbWV9ICR7ZGlyZWN0aW9uYWxDbGFzc05hbWV9YClcblxuICAgICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlXG5cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+ICQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzbGlkRXZlbnQpLCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpXG4gICAgICAkKG5leHRFbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKVxuXG4gICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZVxuICAgICAgJCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpZiAoaXNDeWNsaW5nKSB7XG4gICAgICB0aGlzLmN5Y2xlKClcbiAgICB9XG4gIH1cblxuICAvLyBTdGF0aWNcblxuICBzdGF0aWMgX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZKVxuICAgICAgbGV0IF9jb25maWcgPSB7XG4gICAgICAgIC4uLkRlZmF1bHQsXG4gICAgICAgIC4uLiQodGhpcykuZGF0YSgpXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICBfY29uZmlnID0ge1xuICAgICAgICAgIC4uLl9jb25maWcsXG4gICAgICAgICAgLi4uY29uZmlnXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgYWN0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgPyBjb25maWcgOiBfY29uZmlnLnNsaWRlXG5cbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICBkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIF9jb25maWcpXG4gICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSlcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGRhdGEudG8oY29uZmlnKVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGFbYWN0aW9uXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2FjdGlvbn1cImApXG4gICAgICAgIH1cbiAgICAgICAgZGF0YVthY3Rpb25dKClcbiAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5pbnRlcnZhbCkge1xuICAgICAgICBkYXRhLnBhdXNlKClcbiAgICAgICAgZGF0YS5jeWNsZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHN0YXRpYyBfZGF0YUFwaUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXQgPSAkKHNlbGVjdG9yKVswXVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgISQodGFyZ2V0KS5oYXNDbGFzcyhDbGFzc05hbWUuQ0FST1VTRUwpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAuLi4kKHRhcmdldCkuZGF0YSgpLFxuICAgICAgLi4uJCh0aGlzKS5kYXRhKClcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVJbmRleCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLXRvJylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICBjb25maWcuaW50ZXJ2YWwgPSBmYWxzZVxuICAgIH1cblxuICAgIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkKHRhcmdldCksIGNvbmZpZylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkKHRhcmdldCkuZGF0YShEQVRBX0tFWSkudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4kKGRvY3VtZW50KVxuICAub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfU0xJREUsIENhcm91c2VsLl9kYXRhQXBpQ2xpY2tIYW5kbGVyKVxuXG4kKHdpbmRvdykub24oRXZlbnQuTE9BRF9EQVRBX0FQSSwgKCkgPT4ge1xuICBjb25zdCBjYXJvdXNlbHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9SSURFKSlcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNhcm91c2Vscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0ICRjYXJvdXNlbCA9ICQoY2Fyb3VzZWxzW2ldKVxuICAgIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gIH1cbn0pXG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBqUXVlcnlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbiQuZm5bTkFNRV0gPSBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlXG4kLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcbiQuZm5bTkFNRV0ubm9Db25mbGljdCA9ICgpID0+IHtcbiAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVFxuICByZXR1cm4gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJvdXNlbFxuIl19
