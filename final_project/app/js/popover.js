"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery")),_tooltip=_interopRequireDefault(require("./tooltip"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NAME="popover",VERSION="4.2.1",DATA_KEY="bs.popover",EVENT_KEY=".".concat(DATA_KEY),JQUERY_NO_CONFLICT=_jquery.default.fn[NAME],CLASS_PREFIX="bs-popover",BSCLS_PREFIX_REGEX=new RegExp("(^|\\s)".concat(CLASS_PREFIX,"\\S+"),"g"),Default=_objectSpread({},_tooltip.default.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),DefaultType=_objectSpread({},_tooltip.default.DefaultType,{content:"(string|element|function)"}),ClassName={FADE:"fade",SHOW:"show"},Selector={TITLE:".popover-header",CONTENT:".popover-body"},Event={HIDE:"hide".concat(EVENT_KEY),HIDDEN:"hidden".concat(EVENT_KEY),SHOW:"show".concat(EVENT_KEY),SHOWN:"shown".concat(EVENT_KEY),INSERTED:"inserted".concat(EVENT_KEY),CLICK:"click".concat(EVENT_KEY),FOCUSIN:"focusin".concat(EVENT_KEY),FOCUSOUT:"focusout".concat(EVENT_KEY),MOUSEENTER:"mouseenter".concat(EVENT_KEY),MOUSELEAVE:"mouseleave".concat(EVENT_KEY)},Popover=function(e){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,_getPrototypeOf(o).apply(this,arguments))}return _inherits(o,_tooltip.default),_createClass(o,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"addAttachmentClass",value:function(e){(0,_jquery.default)(this.getTipElement()).addClass("".concat(CLASS_PREFIX,"-").concat(e))}},{key:"getTipElement",value:function(){return this.tip=this.tip||(0,_jquery.default)(this.config.template)[0],this.tip}},{key:"setContent",value:function(){var e=(0,_jquery.default)(this.getTipElement());this.setElementContent(e.find(Selector.TITLE),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(Selector.CONTENT),t),e.removeClass("".concat(ClassName.FADE," ").concat(ClassName.SHOW))}},{key:"_getContent",value:function(){return this.element.getAttribute("data-content")||this.config.content}},{key:"_cleanTipClass",value:function(){var e=(0,_jquery.default)(this.getTipElement()),t=e.attr("class").match(BSCLS_PREFIX_REGEX);null!==t&&0<t.length&&e.removeClass(t.join(""))}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=(0,_jquery.default)(this).data(DATA_KEY),t="object"===_typeof(n)?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new o(this,t),(0,_jquery.default)(this).data(DATA_KEY,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'.concat(n,'"'));e[n]()}})}},{key:"VERSION",get:function(){return VERSION}},{key:"Default",get:function(){return Default}},{key:"NAME",get:function(){return NAME}},{key:"DATA_KEY",get:function(){return DATA_KEY}},{key:"Event",get:function(){return Event}},{key:"EVENT_KEY",get:function(){return EVENT_KEY}},{key:"DefaultType",get:function(){return DefaultType}}]),o}();_jquery.default.fn[NAME]=Popover._jQueryInterface,_jquery.default.fn[NAME].Constructor=Popover,_jquery.default.fn[NAME].noConflict=function(){return _jquery.default.fn[NAME]=JQUERY_NO_CONFLICT,Popover._jQueryInterface};var _default=Popover;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvcG92ZXIuanMiXSwibmFtZXMiOlsiX2pxdWVyeSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Rvb2x0aXAiLCJOQU1FIiwiVkVSU0lPTiIsIkRBVEFfS0VZIiwiRVZFTlRfS0VZIiwiY29uY2F0IiwiSlFVRVJZX05PX0NPTkZMSUNUIiwiJCIsImZuIiwiQ0xBU1NfUFJFRklYIiwiQlNDTFNfUFJFRklYX1JFR0VYIiwiUmVnRXhwIiwiRGVmYXVsdCIsIl9vYmplY3RTcHJlYWQiLCJUb29sdGlwIiwicGxhY2VtZW50IiwidHJpZ2dlciIsImNvbnRlbnQiLCJ0ZW1wbGF0ZSIsIkRlZmF1bHRUeXBlIiwiRkFERSIsIlNIT1ciLCJUSVRMRSIsIkNPTlRFTlQiLCJTSE9XTiIsIklOU0VSVEVEIiwiRk9DVVNJTiIsIkZPQ1VTT1VUIiwiTU9VU0VFTlRFUiIsIkNsYXNzTmFtZSIsIkhJRERFTiIsInRoaXMiLCJnZXRUaXRsZSIsIl9nZXRDb250ZW50IiwiYXR0YWNobWVudCIsImRlZmF1bHQiLCJnZXRUaXBFbGVtZW50IiwiYWRkQ2xhc3MiLCJ0aXAiLCJjb25maWciLCIkdGlwIiwic2V0RWxlbWVudENvbnRlbnQiLCJmaW5kIiwiU2VsZWN0b3IiLCJjYWxsIiwiZWxlbWVudCIsInJlbW92ZUNsYXNzIiwiZ2V0QXR0cmlidXRlIiwidGFiQ2xhc3MiLCJhdHRyIiwibWF0Y2giLCJsZW5ndGgiLCJqb2luIiwiZWFjaCIsImRhdGEiLCJfY29uZmlnIiwiX3R5cGVvZiIsInRlc3QiLCJQb3BvdmVyIiwiVHlwZUVycm9yIiwiQ0xJQ0siLCJNT1VTRUxFQVZFIiwiRXZlbnQiLCJfalF1ZXJ5SW50ZXJmYWNlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0Il0sIm1hcHBpbmdzIjoiMkZBT0EsSUFBQUEsUUFBQUMsdUJBQUFDLFFBQUEsV0FDQUMsU0FBQUYsdUJBQUFDLFFBQUEsMjhEQVFBLElBQU1FLEtBQXNCLFVBQ3RCQyxRQUFzQixRQUN0QkMs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R0FBQVAsTUFBQStELFlBQUFOLFFBQ0RuRCxRQUFBQSxRQUFBQyxHQUFBUCxNQUFBZ0UsV0FBQSxXQTBHRCxPQURBMUQsUUFBQUEsUUFBRUMsR0FBR1AsTUFBUUssbUJBQ05vRCxRQUFRSywrQkF0R2RMIiwiZmlsZSI6InBvcG92ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY0LjIuMSk6IHBvcG92ZXIuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSdcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCdcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbnN0YW50c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuY29uc3QgTkFNRSAgICAgICAgICAgICAgICA9ICdwb3BvdmVyJ1xuY29uc3QgVkVSU0lPTiAgICAgICAgICAgICA9ICc0LjIuMSdcbmNvbnN0IERBVEFfS0VZICAgICAgICAgICAgPSAnYnMucG9wb3ZlcidcbmNvbnN0IEVWRU5UX0tFWSAgICAgICAgICAgPSBgLiR7REFUQV9LRVl9YFxuY29uc3QgSlFVRVJZX05PX0NPTkZMSUNUICA9ICQuZm5bTkFNRV1cbmNvbnN0IENMQVNTX1BSRUZJWCAgICAgICAgPSAnYnMtcG9wb3ZlcidcbmNvbnN0IEJTQ0xTX1BSRUZJWF9SRUdFWCAgPSBuZXcgUmVnRXhwKGAoXnxcXFxccykke0NMQVNTX1BSRUZJWH1cXFxcUytgLCAnZycpXG5cbmNvbnN0IERlZmF1bHQgPSB7XG4gIC4uLlRvb2x0aXAuRGVmYXVsdCxcbiAgcGxhY2VtZW50IDogJ3JpZ2h0JyxcbiAgdHJpZ2dlciAgIDogJ2NsaWNrJyxcbiAgY29udGVudCAgIDogJycsXG4gIHRlbXBsYXRlICA6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+JyArXG4gICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzxoMyBjbGFzcz1cInBvcG92ZXItaGVhZGVyXCI+PC9oMz4nICtcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWJvZHlcIj48L2Rpdj48L2Rpdj4nXG59XG5cbmNvbnN0IERlZmF1bHRUeXBlID0ge1xuICAuLi5Ub29sdGlwLkRlZmF1bHRUeXBlLFxuICBjb250ZW50IDogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknXG59XG5cbmNvbnN0IENsYXNzTmFtZSA9IHtcbiAgRkFERSA6ICdmYWRlJyxcbiAgU0hPVyA6ICdzaG93J1xufVxuXG5jb25zdCBTZWxlY3RvciA9IHtcbiAgVElUTEUgICA6ICcucG9wb3Zlci1oZWFkZXInLFxuICBDT05URU5UIDogJy5wb3BvdmVyLWJvZHknXG59XG5cbmNvbnN0IEV2ZW50ID0ge1xuICBISURFICAgICAgIDogYGhpZGUke0VWRU5UX0tFWX1gLFxuICBISURERU4gICAgIDogYGhpZGRlbiR7RVZFTlRfS0VZfWAsXG4gIFNIT1cgICAgICAgOiBgc2hvdyR7RVZFTlRfS0VZfWAsXG4gIFNIT1dOICAgICAgOiBgc2hvd24ke0VWRU5UX0tFWX1gLFxuICBJTlNFUlRFRCAgIDogYGluc2VydGVkJHtFVkVOVF9LRVl9YCxcbiAgQ0xJQ0sgICAgICA6IGBjbGljayR7RVZFTlRfS0VZfWAsXG4gIEZPQ1VTSU4gICAgOiBgZm9jdXNpbiR7RVZFTlRfS0VZfWAsXG4gIEZPQ1VTT1VUICAgOiBgZm9jdXNvdXQke0VWRU5UX0tFWX1gLFxuICBNT1VTRUVOVEVSIDogYG1vdXNlZW50ZXIke0VWRU5UX0tFWX1gLFxuICBNT1VTRUxFQVZFIDogYG1vdXNlbGVhdmUke0VWRU5UX0tFWX1gXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDbGFzcyBEZWZpbml0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5jbGFzcyBQb3BvdmVyIGV4dGVuZHMgVG9vbHRpcCB7XG4gIC8vIEdldHRlcnNcblxuICBzdGF0aWMgZ2V0IFZFUlNJT04oKSB7XG4gICAgcmV0dXJuIFZFUlNJT05cbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFxuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FXG4gIH1cblxuICBzdGF0aWMgZ2V0IERBVEFfS0VZKCkge1xuICAgIHJldHVybiBEQVRBX0tFWVxuICB9XG5cbiAgc3RhdGljIGdldCBFdmVudCgpIHtcbiAgICByZXR1cm4gRXZlbnRcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRVZFTlRfS0VZKCkge1xuICAgIHJldHVybiBFVkVOVF9LRVlcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlXG4gIH1cblxuICAvLyBPdmVycmlkZXNcblxuICBpc1dpdGhDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5fZ2V0Q29udGVudCgpXG4gIH1cblxuICBhZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCkge1xuICAgICQodGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKGAke0NMQVNTX1BSRUZJWH0tJHthdHRhY2htZW50fWApXG4gIH1cblxuICBnZXRUaXBFbGVtZW50KCkge1xuICAgIHRoaXMudGlwID0gdGhpcy50aXAgfHwgJCh0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF1cbiAgICByZXR1cm4gdGhpcy50aXBcbiAgfVxuXG4gIHNldENvbnRlbnQoKSB7XG4gICAgY29uc3QgJHRpcCA9ICQodGhpcy5nZXRUaXBFbGVtZW50KCkpXG5cbiAgICAvLyBXZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXG4gICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU2VsZWN0b3IuVElUTEUpLCB0aGlzLmdldFRpdGxlKCkpXG4gICAgbGV0IGNvbnRlbnQgPSB0aGlzLl9nZXRDb250ZW50KClcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LmNhbGwodGhpcy5lbGVtZW50KVxuICAgIH1cbiAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCR0aXAuZmluZChTZWxlY3Rvci5DT05URU5UKSwgY29udGVudClcblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoYCR7Q2xhc3NOYW1lLkZBREV9ICR7Q2xhc3NOYW1lLlNIT1d9YClcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBfZ2V0Q29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JykgfHxcbiAgICAgIHRoaXMuY29uZmlnLmNvbnRlbnRcbiAgfVxuXG4gIF9jbGVhblRpcENsYXNzKCkge1xuICAgIGNvbnN0ICR0aXAgPSAkKHRoaXMuZ2V0VGlwRWxlbWVudCgpKVxuICAgIGNvbnN0IHRhYkNsYXNzID0gJHRpcC5hdHRyKCdjbGFzcycpLm1hdGNoKEJTQ0xTX1BSRUZJWF9SRUdFWClcbiAgICBpZiAodGFiQ2xhc3MgIT09IG51bGwgJiYgdGFiQ2xhc3MubGVuZ3RoID4gMCkge1xuICAgICAgJHRpcC5yZW1vdmVDbGFzcyh0YWJDbGFzcy5qb2luKCcnKSlcbiAgICB9XG4gIH1cblxuICAvLyBTdGF0aWNcblxuICBzdGF0aWMgX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZKVxuICAgICAgY29uc3QgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbFxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rpc3Bvc2V8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIF9jb25maWcpXG4gICAgICAgICQodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSlcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYClcbiAgICAgICAgfVxuICAgICAgICBkYXRhW2NvbmZpZ10oKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGpRdWVyeVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJC5mbltOQU1FXSA9IFBvcG92ZXIuX2pRdWVyeUludGVyZmFjZVxuJC5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcbiQuZm5bTkFNRV0ubm9Db25mbGljdCA9ICgpID0+IHtcbiAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVFxuICByZXR1cm4gUG9wb3Zlci5falF1ZXJ5SW50ZXJmYWNlXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcG92ZXJcbiJdfQ==
