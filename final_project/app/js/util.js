"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var TRANSITION_END="transitionend",MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3;function toType(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function getSpecialTransitionEndEvent(){return{bindType:TRANSITION_END,delegateType:TRANSITION_END,handle:function(t){if((0,_jquery.default)(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function transitionEndEmulator(t){var e=this,n=!1;return(0,_jquery.default)(this).one(Util.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||Util.triggerTransitionEnd(e)},t),this}function setTransitionEndSupport(){_jquery.default.fn.emulateTransitionEnd=transitionEndEmulator,_jquery.default.event.special[Util.TRANSITION_END]=getSpecialTransitionEndEvent()}var Util={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(Math.random()*MAX_UID),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}return e&&document.querySelector(e)?e:null},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=(0,_jquery.default)(t).css("transition-duration"),n=(0,_jquery.default)(t).css("transition-delay"),r=parseFloat(e),o=parseFloat(n);return r||o?(e=e.split(",")[0],n=n.split(",")[0],(parseFloat(e)+parseFloat(n))*MILLISECONDS_MULTIPLIER):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){(0,_jquery.default)(t).trigger(TRANSITION_END)},supportsTransitionEnd:function(){return Boolean(TRANSITION_END)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],i=e[r],a=i&&Util.isElement(i)?"element":toType(i);if(!new RegExp(o).test(a))throw new Error("".concat(t.toUpperCase(),": ")+'Option "'.concat(r,'" provided type "').concat(a,'" ')+'but expected type "'.concat(o,'".'))}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"!=typeof t.getRootNode)return t instanceof ShadowRoot?t:t.parentNode?Util.findShadowRoot(t.parentNode):null;var e=t.getRootNode();return e instanceof ShadowRoot?e:null}};setTransitionEndSupport();var _default=Util;exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiX2pxdWVyeSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiVFJBTlNJVElPTl9FTkQiLCJNQVhfVUlEIiwiTUlMTElTRUNPTkRTX01VTFRJUExJRVIiLCJ0b1R5cGUiLCJvYmoiLCJ0b1N0cmluZyIsImNhbGwiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJldmVudCIsImRlZmF1bHQiLCJ0YXJnZXQiLCJpcyIsInRoaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0cmFuc2l0aW9uRW5kRW11bGF0b3IiLCJjYWxsZWQiLCJvbmUiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwiVXRpbCIsInRyaWdnZXJUcmFuc2l0aW9uRW5kIiwiX3RoaXMiLCJkdXJhdGlvbiIsIiQiLCJzcGVjaWFsIiwiZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCIsImdldFVJRCIsInByZWZpeCIsIk1hdGgiLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJocmVmQXR0ciIsImVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50IiwidHJpbSIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCIsInRyYW5zaXRpb25EdXJhdGlvbiIsImNzcyIsInRyYW5zaXRpb25EZWxheSIsImZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uIiwicGFyc2VGbG9hdCIsImZsb2F0VHJhbnNpdGlvbkRlbGF5Iiwic3BsaXQiLCJyZWZsb3ciLCJvZmZzZXRIZWlnaHQiLCJ0cmlnZ2VyIiwic3VwcG9ydHNUcmFuc2l0aW9uRW5kIiwiaXNFbGVtZW50IiwiQm9vbGVhbiIsInR5cGVDaGVja0NvbmZpZyIsInByb3BlcnR5IiwiY29uZmlnVHlwZXMiLCJjb21wb25lbnROYW1lIiwidmFsdWVUeXBlIiwidmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImV4cGVjdGVkVHlwZXMiLCJ0ZXN0IiwiY29uZmlnIiwiUmVnRXhwIiwiZmluZFNoYWRvd1Jvb3QiLCJFcnJvciIsImRvY3VtZW50RWxlbWVudCIsImF0dGFjaFNoYWRvdyIsImdldFJvb3ROb2RlIiwicGFyZW50Tm9kZSIsInJvb3QiLCJTaGFkb3dSb290Iiwic2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQiXSwibWFwcGluZ3MiOiIyRkFPQSxJQUFBQSxRQUFBQyx1QkFBQUMsUUFBQSxtRkFRQSxJQUFNQyxlQUFpQixnQkFDakJDLFFBQVUsSUFDVkMsd0JBQTBCLElBR2hDLFNBQVNDLE9BQU9DLEdBQ2QsTUFBTyxHQUFHQyxTQUFTQyxLQUFLRixHQUFLRyxNQUFNLGVBQWUsR0FBR0MsY0FMdkQsU0FBTVAsK0JBQ04sTUFBTUMsQ0FTRk8sU0FBVVQsZUFOZFUsYUFBZ0JOLGVBQ2RPLE9BSklULFNBSUdVLEdBQ1IsSUFBQSxFQUFBZixRQUFBZ0IsU0FBQUQsRUFBQUUsUUFBQUMsR0FBQUMsTUFRTyxPQUFPSixFQUFNSyxVQUFVQyxRQUFRQyxNQUFNSCxLQUFNSSxhQUEzQyxTQUFBQyxzQkFBdUJILEdBQVFDLElBQUFBLEVBQUFBLEtBQ2hDRyxHQUFBLEVBVUhBLE9BVEUsRUFBQXpCLFFBQUFnQixTQUFBRyxNQUFBTyxJQUFPQyxLQUFBQSxlQUFVLFdBQ2xCRixHQUFBLElBV0hHLFdBQVcsV0FQSkosR0FBZ0NLLEtBQUFDLHFCQUFBQyxJQUN2Q0MsR0FHRVAsS0FJQSxTQUFLQSwwQkFDSEksUUFBQUEsUUFBQUEsR0FBQUEscUJBQUtDLHNCQUNORyxRQUFBQSxRQUFBbEIsTUFBQW1CLFFBQUFMLEtBQUExQixnQkFBQWdDLCtCQVdMLElBQUFOLEtBQUEsQ0FRRTFCLGVBQWdCLGtCQUVoQmlDLE9BVkYsU0FVU0MsR0FDTCxLQUxFUixNQUFPUyxLQUFBQyxTQUFBbkMsU0FFWEQsU0FBZ0JxQyxlQUZMSCxLQUlYRCxPQUpXQyxHQU9QQSx1QkFiTixTQWF3QkUsR0FDbkIsSUFIREUsRUFHU0MsRUFBU0YsYUFBZUgsZUFDakMsSUFBQUksR0FBQSxNQUFBQSxFQUFBLENBVFMsSUFBQUUsRUFBQUMsRUFBQUMsYUFBQSxRQVlYQyxFQUFBQSxHQVpXLE1BQUFILEVBQUFBLEVBQUFJLE9BQUEsR0FlVCxPQUFLTixHQUFZQSxTQUFRTyxjQUFVUCxHQUFBQSxFQUFBLE1BR2xDUSxpQ0F4QkwsU0F3QktMLEdBTUQsSUFBS0EsRUFKTCxPQUFPSCxFQUtMLElBQUFTLEdBQUEsRUFBQWxELFFBQUFnQixTQUFBNEIsR0FBQU8sSUFBQSx1QkFHRkMsR0FBQSxFQUFBcEQsUUFBQWdCLFNBQUE0QixHQUFBTyxJQUFBLG9CQUlNRSxFQUEwQkMsV0FBV0osR0FIdkNBLEVBQXFCSSxXQUFBRixHQUl6QixPQUFNRyxHQUF1QkQsR0FRN0JKLEVBQXFCQSxFQUFtQk0sTUFBTSxLQUFLLEdBQ25ESixFQUFrQkEsRUFBZ0JJLE1BQU0sS0FBSyxJQUE3Q0osV0FBa0JBLEdBQXNCRSxXQUF4Q0YsSUFBQS9DLHlCQUxTLEdBVVhvRCxPQXJERixTQU1hYixHQWdEVCxPQUFPQSxFQUFRYyxjQUlmNUIscUJBMURKLFNBMERJYyxJQXBEUyxFQUFBNUMsUUFBQWdCLFNBQUE0QixHQUFBZSxRQUFBeEQsaUJBMERWeUQsc0JBaEVILFdBa0VFQyxPQTVEV0MsUUFBQTNELGlCQWdFWDRELFVBdEVGLFNBc0VFQSxHQUNFLE9BQUt4RCxFQUFNeUQsSUFBWHpELEdBQXVCMEQsVUFHbkJGLGdCQTFFUixTQTBFbUJHLEVBQWtCRixFQUE3QkMsR0FDQSxJQUFBLElBQU1FLEtBQWdCQyxFQUh4QixHQUFJQyxPQUFPQyxVQUFVQyxlQUFlOUQsS0FBS3dELEVBQWFELEdBQVcsQ0FNL0QsSUFBS1EsRUFBV0EsRUFBZUMsR0FDN0JMLEVBQ0VNLEVBQUdSLEdBR05DLEVBQUFDLEdBQUF2QyxLQUFBZ0MsVUFBQU8sR0FDRixVQUFBOUQsT0FBQThELEdBOUVNLElBQUEsSUFBQU8sT0FBQUgsR0FBQUMsS0FBQU4sR0FrRlhTLE1BbEZXLElBQUFDLE1BbUZKbkMsR0FBQUEsT0FBQUEsRUFBU29DLGNBQVRwQyxNQUFBQSxXQUFBQSxPQUNIc0IsRUFER3RCLHFCQUFBQSxPQUNIeUIsRUFER3pCLE1BQUFBLHNCQUFBQSxPQUlMOEIsRUFKSzlCLFNBUUprQyxlQWpHTCxTQWlHS2hDLEdBUkQsSUFBS0YsU0FBU29DLGdCQUFnQkMsYUFVOUIsT0FBSW5DLEtBTEosR0FBbUMsbUJBQXhCQSxFQUFRb0MsWUFjbkIsT0FBQXBDLGFBQVlnQyxXQUNiaEMsRUFMTUEsRUFBUXFDLFdBSU5wRCxLQUFLK0MsZUFBZWhDLEVBQVFxQyxZQUgxQixLQURULElBQUtyQyxFQUFRcUMsRUFBYkQsY0FDRSxPQUFPRSxhQUFQQyxXQUFBRCxFQUFBLE9BT05FLHVDQUVldkQiLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjQuMi4xKTogdXRpbC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJpdmF0ZSBUcmFuc2l0aW9uRW5kIEhlbHBlcnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbmNvbnN0IFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnXG5jb25zdCBNQVhfVUlEID0gMTAwMDAwMFxuY29uc3QgTUlMTElTRUNPTkRTX01VTFRJUExJRVIgPSAxMDAwXG5cbi8vIFNob3V0b3V0IEFuZ3VzQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcbmZ1bmN0aW9uIHRvVHlwZShvYmopIHtcbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKVxufVxuXG5mdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xuICByZXR1cm4ge1xuICAgIGJpbmRUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICBkZWxlZ2F0ZVR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgIGhhbmRsZShldmVudCkge1xuICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5pcyh0aGlzKSkge1xuICAgICAgICByZXR1cm4gZXZlbnQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmaW5lZFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW5kRW11bGF0b3IoZHVyYXRpb24pIHtcbiAgbGV0IGNhbGxlZCA9IGZhbHNlXG5cbiAgJCh0aGlzKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgKCkgPT4ge1xuICAgIGNhbGxlZCA9IHRydWVcbiAgfSlcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzKVxuICAgIH1cbiAgfSwgZHVyYXRpb24pXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kRW11bGF0b3JcbiAgJC5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFB1YmxpYyBVdGlsIEFwaVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG5jb25zdCBVdGlsID0ge1xuXG4gIFRSQU5TSVRJT05fRU5EOiAnYnNUcmFuc2l0aW9uRW5kJyxcblxuICBnZXRVSUQocHJlZml4KSB7XG4gICAgZG8ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCkgLy8gXCJ+flwiIGFjdHMgbGlrZSBhIGZhc3RlciBNYXRoLmZsb29yKCkgaGVyZVxuICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9LFxuXG4gIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgIGxldCBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSAnIycpIHtcbiAgICAgIGNvbnN0IGhyZWZBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBocmVmQXR0ciAmJiBocmVmQXR0ciAhPT0gJyMnID8gaHJlZkF0dHIudHJpbSgpIDogJydcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0b3IgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGxcbiAgfSxcblxuICBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAgbGV0IHRyYW5zaXRpb25EdXJhdGlvbiA9ICQoZWxlbWVudCkuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJylcbiAgICBsZXQgdHJhbnNpdGlvbkRlbGF5ID0gJChlbGVtZW50KS5jc3MoJ3RyYW5zaXRpb24tZGVsYXknKVxuXG4gICAgY29uc3QgZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gPSBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbilcbiAgICBjb25zdCBmbG9hdFRyYW5zaXRpb25EZWxheSA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KVxuXG4gICAgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuICAgIGlmICghZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gJiYgIWZsb2F0VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIC8vIElmIG11bHRpcGxlIGR1cmF0aW9ucyBhcmUgZGVmaW5lZCwgdGFrZSB0aGUgZmlyc3RcbiAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoJywnKVswXVxuICAgIHRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheS5zcGxpdCgnLCcpWzBdXG5cbiAgICByZXR1cm4gKHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKSArIHBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KSkgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUlxuICB9LFxuXG4gIHJlZmxvdyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gIH0sXG5cbiAgdHJpZ2dlclRyYW5zaXRpb25FbmQoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkudHJpZ2dlcihUUkFOU0lUSU9OX0VORClcbiAgfSxcblxuICAvLyBUT0RPOiBSZW1vdmUgaW4gdjVcbiAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkge1xuICAgIHJldHVybiBCb29sZWFuKFRSQU5TSVRJT05fRU5EKVxuICB9LFxuXG4gIGlzRWxlbWVudChvYmopIHtcbiAgICByZXR1cm4gKG9ialswXSB8fCBvYmopLm5vZGVUeXBlXG4gIH0sXG5cbiAgdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGNvbmZpZ1R5cGVzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ1R5cGVzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XVxuICAgICAgICBjb25zdCB2YWx1ZSAgICAgICAgID0gY29uZmlnW3Byb3BlcnR5XVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgICAgID0gdmFsdWUgJiYgVXRpbC5pc0VsZW1lbnQodmFsdWUpXG4gICAgICAgICAgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpXG5cbiAgICAgICAgaWYgKCFuZXcgUmVnRXhwKGV4cGVjdGVkVHlwZXMpLnRlc3QodmFsdWVUeXBlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGAke2NvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKX06IGAgK1xuICAgICAgICAgICAgYE9wdGlvbiBcIiR7cHJvcGVydHl9XCIgcHJvdmlkZWQgdHlwZSBcIiR7dmFsdWVUeXBlfVwiIGAgK1xuICAgICAgICAgICAgYGJ1dCBleHBlY3RlZCB0eXBlIFwiJHtleHBlY3RlZFR5cGVzfVwiLmApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZmluZFNoYWRvd1Jvb3QoZWxlbWVudCkge1xuICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dGFjaFNoYWRvdykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICAvLyBDYW4gZmluZCB0aGUgc2hhZG93IHJvb3Qgb3RoZXJ3aXNlIGl0J2xsIHJldHVybiB0aGUgZG9jdW1lbnRcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQuZ2V0Um9vdE5vZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHJvb3QgPSBlbGVtZW50LmdldFJvb3ROb2RlKClcbiAgICAgIHJldHVybiByb290IGluc3RhbmNlb2YgU2hhZG93Um9vdCA/IHJvb3QgOiBudWxsXG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTaGFkb3dSb290KSB7XG4gICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIC8vIHdoZW4gd2UgZG9uJ3QgZmluZCBhIHNoYWRvdyByb290XG4gICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIFV0aWwuZmluZFNoYWRvd1Jvb3QoZWxlbWVudC5wYXJlbnROb2RlKVxuICB9XG59XG5cbnNldFRyYW5zaXRpb25FbmRTdXBwb3J0KClcblxuZXhwb3J0IGRlZmF1bHQgVXRpbFxuIl19
